{% extends 'base.html' %}
{% load static %}
{% block content %}

  <main id="main">

    <!-- ======= Breadcrumbs ======= -->
    <section class="breadcrumbs">
      <div class="container">

        <ol>
          <li><a href="index.html">Home</a></li>
          <li>Portfolio Details</li>
        </ol>
        <h2>Portfolio Details</h2>

      </div>
    </section><!-- End Breadcrumbs -->

    <!-- ======= Portfolio Details Section ======= -->
    <section id="portfolio-details" class="portfolio-details">
      <div class="container">

        <h1>Post Detail</h1>
        {% if post %}
        <h2>작성자</h2>
        <p>{{ post.user.get_username }}</p>

        <h2>본문</h2>
        <p>{{ post.body }}</p>

        <h2>게시일</h2>
        <p>{{ post.created_at }}</p>

        {% else %}
          <p>No Post</p>
        {% endif %}

        <div class="mb-3 col-md-6">
          좋아요 수 : {{ post.liked_users.count }}
        </div>
        
        {% if user.is_authenticated %}
        <form class="mb-3" method="POST" action="{% url 'like' post.id %}">
          {% csrf_token %}

          {% if user in post.liked_users.all %}
            <button type="submit" class="btn btn-primary">LIKE</button>
          {% else %}
            <button type="submit" class="btn btn-secondary">LIKE</button>
          {% endif %}
        </form>
      {% endif %}

        <a href="{% url 'posts' %}">목록</a>
        {% if user == post.user %}
          <a href="{% url 'edit' post.id %}">수정하기</a>
          <a href="{% url 'delete' post.id %}">삭제하기</a>
        {% endif %}

        <div class="row gy-4">

          <div class="col-lg-8">
            <div class="portfolio-details-slider swiper-container">
              <div class="swiper-wrapper align-items-center">

                <div class="swiper-slide">
                  <img src="assets/img/portfolio/portfolio-1.jpg" alt="">
                </div>

                <div class="swiper-slide">
                  <img src="assets/img/portfolio/portfolio-2.jpg" alt="">
                </div>

                <div class="swiper-slide">
                  <img src="assets/img/portfolio/portfolio-3.jpg" alt="">
                </div>

              </div>
              <div class="swiper-pagination"></div>
            </div>
          </div>

          <div class="col-lg-4">
            <div class="portfolio-info">
              <h3>Project information</h3>
              <ul>
                <li><strong>Category</strong>: Web design</li>
                <li><strong>Client</strong>: ASU Company</li>
                <li><strong>Project date</strong>: 01 March, 2020</li>
                <li><strong>Project URL</strong>: <a href="#">www.example.com</a></li>
              </ul>
            </div>
            <div class="portfolio-description">
              <h2>This is an example of portfolio detail</h2>
              <p>
                Autem ipsum nam porro corporis rerum. Quis eos dolorem eos itaque inventore commodi labore quia quia. Exercitationem repudiandae officiis neque suscipit non officia eaque itaque enim. Voluptatem officia accusantium nesciunt est omnis tempora consectetur dignissimos. Sequi nulla at esse enim cum deserunt eius.
              </p>
            </div>
          </div>

        </div>

      </div>
    </section><!-- End Portfolio Details Section -->

  </main><!-- End #main -->

  {% endblock %}